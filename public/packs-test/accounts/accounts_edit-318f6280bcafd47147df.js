(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],{"/CEr":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r,o,a=n("kMSe"),i=n("Ty5D"),c=n("vOnD"),l=n("6G3v"),u=n("2Pl9"),s=n("GaHK");function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=c.default.div.withConfig({displayName:"dashboard_tile_form__FormContainer",componentId:"yrmgx4-0"})(["display:flex;flex-direction:column;height:100%;"]),y=c.default.div.withConfig({displayName:"dashboard_tile_form__FormBody",componentId:"yrmgx4-1"})(["flex:1;padding:0 0 30px 0;"]),g=(r=Object(a.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}})),Object(i.o)(o=r(o=Object(a.d)(o=function(t){function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=f(this,d(n).call(this,e))).saveChanges=function(e){e&&e.preventDefault();var n=t.props,r=n.accountTilesStore,o=n.accountTilesStore,a=o.tileType,i=o.editTileId,c=o.mode,l=o.updateTile,u=n.history,s=r["".concat(_.lowerFirst(a),"FormStore")],p="edit"===c?"PUT":"POST";return s.customizableRevenueCalculationErrors?(Validation.showErrorFlash("Please select which Purchases should be included in Talkable Revenue"),void Validation.scrollToField(["configuration.advocate_sales.enabled"])):s.abstractTileErrors?(Validation.showErrorFlash("Please select at least one metric"),void Validation.scrollToField(["configuration.ui.first_metric"])):void l({tileId:i,params:s.params.toJSON(),action:p,history:u})};var r=e.accountTilesStore,o=e.accountTilesStore,a=o.tileType,i=o.tileOptions,c={configuration:i.configuration,title:i.title,visible:i.visible,type:a};return(0,r["replace".concat(a,"FormStore")])(c),t}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){var e=this.props.accountTilesStore,t=e.needFetchMetrics,n=e.accountStore.fetchMetrics;t&&n()}},{key:"render",value:function(){var t=this.props,n=t.accountTilesStore,r=t.accountTilesStore,o=r.mode,a=r.tileType,i=r.accountStore,c=i.groupedMetricsForSelect,p=i.metricsForSelect,m=n["".concat(_.lowerFirst(a),"FormStore")],f=m.params,d=f.title,b=f.visible,g=m.handleChangeInput,v=m.UIFormConfig,E=m.setValue,S=m.showSubTitle,O=m.handleChangeCheckbox,w=m.handleMultiSelectChange,C=m.calculationFormConfig,T=m.configurationDescription,I=m.handleMetricSelect,j=m.customMetricField,k=m.params.toJSON();return e.createElement(h,null,e.createElement(y,null,e.createElement("h1",{className:"base-form-title"},_.upperFirst(o)," ",d),e.createElement("div",{className:"base-form-group"},e.createElement("div",{className:"base-form-row is-first"},e.createElement(s.UILabel,{text:"Tile name",id:"title"}),e.createElement(s.UIInputText,{id:"title",name:"title",value:d,onChange:g}))),e.createElement("div",{className:"base-form-divider"}),v&&e.createElement(e.Fragment,null,e.createElement("div",{className:"base-form-group"},e.createElement(s.UISpoiler,{defaultShow:!0,text:"Configure what to show in the tile",styleTitle:{fontSize:"22px",marginBottom:"20px"},titleWeight:"bold"},e.createElement("div",{className:"pts"},e.createElement("div",{className:"base-form-group"},S&&e.createElement("h5",{className:"base-form-sub-title"},"Tile Metrics:"),e.createElement(l.a,{formConfig:v,params:k,setValue:E,groupedMetricsForSelect:c,metricsForSelect:p,handleChangeCheckbox:O,handleMetricSelect:I,store:m,customMetricField:j})))))),C&&e.createElement(e.Fragment,null,e.createElement("div",{className:"base-form-divider"}),e.createElement("div",{className:"base-form-group"},e.createElement(s.UISpoiler,{defaultShow:!0,text:"Additional configuration",styleTitle:{fontSize:"22px"},titleWeight:"bold",description:function(){return T},styleDescription:{marginBottom:"20px"}},e.createElement("div",{className:"pts"},e.createElement("div",{className:"base-form-group"},e.createElement(l.a,{formConfig:C,params:k,setValue:E,handleChangeCheckbox:O,handleMultiSelectChange:w}))))))),e.createElement(u.a,{saveChanges:this.saveChanges,tileVisibility:b,handleChangeCheckbox:O}))}}])&&m(r.prototype,o),a&&m(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},"/YPq":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r,o,a=n("kMSe"),i=n("GaHK"),c=n("/CEr"),l=n("Ty5D"),u=n("55Ip");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=(r=Object(a.c)((function(e){var t=e.accountRootStore;return{accountTilesStore:t.accountTilesStore,accountStore:t.accountStore}})),Object(l.o)(o=r(o=Object(a.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),m(this,f(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.accountTilesStore,n=t.activateEditMode,r=t.activateCreateMode,o=e.match.params,a=o.tile_id,i=o.tile_type;a&&n(a),i&&r(_.startCase(i).replace(/ /g,""))}},{key:"render",value:function(){var t=this.props,n=t.accountStore,r=t.accountTilesStore,o=r.tileType,a=r.resetEditMode;return e.createElement("div",{className:"Account-settings-tiles-form"},e.createElement(u.Link,{className:"App-navbar-links",onClick:a,to:{pathname:Routes.edit_section_account_path(n.account.id,"tiles")}},e.createElement(i.UIIcon,{name:"leftArrow",className:"is-small-arrow-left"}),e.createElement("span",{className:"App-navbar-link"},"Back to Manage Tiles")),o&&e.createElement(c.a,null))}}])&&p(r.prototype,o),a&&p(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},"0WXM":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("99Ma"),o=n("MrdO"),a=r.types.model("TileParamsStore",{configuration:r.types.optional(o.a,{}),title:"",description:"",visible:!0,type:""});a.create()},"2Pl9":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r,o,a=n("kMSe"),i=n("vOnD"),c=n("Ty5D"),l=n("GaHK");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=Object(i.default)(l.UIFormFooter).withConfig({displayName:"dashboard_tile_edit_form_footer__FormFooter",componentId:"sc-1nh0rtl-0"})(["margin-left:-30px;margin-right:-30px;margin-bottom:-25px;"]),b=i.default.div.withConfig({displayName:"dashboard_tile_edit_form_footer__FormFooterFirstItem",componentId:"sc-1nh0rtl-1"})(["margin-right:auto;"]),h=(r=Object(a.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}})),Object(c.o)(o=r(o=Object(a.d)(o=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=p(this,(e=m(n)).call.apply(e,[this].concat(o)))).resetEditMode=function(e){e&&e.preventDefault();var n=t.props,r=n.accountTilesStore,o=r.accountStore,a=r.resetEditMode,i=n.history;a(),i.push(Routes.edit_section_account_path(o.account.id,"tiles"))},t}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.saveChanges,r=t.tileVisibility,o=t.handleChangeCheckbox,a=t.accountTilesStore,i=a.mode,c=a.savingChanges,u="edit"===i?"Save Changes":"Create Tile";return e.createElement(d,null,e.createElement(b,null,e.createElement(l.UIInputCheckbox,{id:"visible",name:"visible",size:"normal",labelText:"Enable on Dashboard",checked:r,onChange:o})),e.createElement(l.UIButton,{trait:"transparent",onClick:this.resetEditMode},"Cancel"),e.createElement(l.UIButton,{trait:"success",onClick:n,disabled:c},u))}}])&&s(r.prototype,o),a&&s(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},"6G3v":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r,o=n("kMSe"),a=n("WUzE"),i=n("F9GT"),c=n("qXyS"),l=n("6w21"),u=n("WAsl"),s=n("GaHK");function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=Object(o.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),f(this,d(n).apply(this,arguments))}var r,o,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.formConfig,r=t.handleChangeCheckbox,o=t.handleMultiSelectChange,p=t.params,m=t.setValue,f=t.groupedMetricsForSelect,d=t.metricsForSelect,b=t.handleMetricSelect,h=t.store;return e.createElement("div",null,_.map(n,(function(t,n){var y=_.get(p,t.path),g=classNames("base-form-row",{"is-first":0===n});if("divider"===t.type)return e.createElement("div",{key:n,className:"base-form-divider is-shorten"});if("metrics_description"===t.type)return e.createElement("div",{className:"base-form-row",key:n},e.createElement(u.a,null));if("metrics_select"===t.type)return e.createElement("div",{key:n,className:"base-form-row"},e.createElement(l.a,{id:t.group_path,name:t.group_path,item:t,params:p,groupedMetricsForSelect:f,metricsForSelect:d,handleMetricSelect:b,store:h}));if("checkbox_group"===t.type)return e.createElement("div",{key:n,className:"Tile-form-group"},e.createElement("div",{className:g},e.createElement(s.UIInputCheckbox,{id:t.path,name:t.path,labelText:t.title,checked:y,onChange:r})),y&&e.createElement("div",{className:"Tile-form-group-content"},_.map(t.options,(function(t,n){var o=null;return"radio_button"===t.type?o=e.createElement(a.a,{setValue:m,item:t,params:p}):"select_group"===t.type?o=e.createElement(i.a,{setValue:m,item:t,params:p,handleChangeCheckbox:r}):"checkbox_tree"===t.type&&(o=e.createElement(c.a,{setValue:m,item:t,params:p,handleChangeCheckbox:r})),t.title?e.createElement("div",{key:n},e.createElement("h5",{className:"Tile-form-group-content-item-title"},t.title),e.createElement("div",{className:"Tile-form-group-content-item-content"},o)):e.createElement("div",{key:n},o)}))));var v=null;if("checkbox_tree"===t.type)v=e.createElement(c.a,{setValue:m,item:t,params:p,handleChangeCheckbox:r});else if("radio_button"===t.type)v=e.createElement(a.a,{setValue:m,item:t,params:p});else if("multi_select"===t.type){var E=_.get(p,t.path);v=e.createElement(s.UIInputSelect,{onChange:o,options:t.options,value:E,name:t.path,multi:!0})}else v=e.createElement(s.UIInputCheckbox,{id:t.path,name:t.path,size:"normal",labelText:t.title,checked:y,onChange:r});if(t.group_title){var S=classNames("Tile-form-group-content-item-content",{"is-pln":t.withoutPadding});return e.createElement("div",{className:g,key:n},e.createElement("h5",{className:"Tile-form-group-content-item-title"},t.group_title),e.createElement("div",{className:S},v,t.description&&t.description()))}return e.createElement("div",{className:g,key:n},v)})))}}])&&m(r.prototype,o),p&&m(r,p),n}(e.PureComponent))||r}).call(this,n("q1tI"))},"6w21":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r,o=n("kMSe"),a=n("vOnD"),i=n("GaHK"),c=n("L0cm");function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object(a.default)(i.UIButton).withConfig({displayName:"tile_metrics_select__RemoveButton",componentId:"sc-16ciwpo-0"})(["height:100%;border-top-left-radius:0;border-bottom-left-radius:0;border-left:0;.sign-svg{margin-right:0;}"]),d=a.default.div.withConfig({displayName:"tile_metrics_select__FieldWrapper",componentId:"sc-16ciwpo-1"})(["display:flex;width:100%;"]),b=a.default.div.withConfig({displayName:"tile_metrics_select__FieldLeftPart",componentId:"sc-16ciwpo-2"})(["flex:0 100%;"]),h=a.default.div.withConfig({displayName:"tile_metrics_select__FieldRightPart",componentId:"sc-16ciwpo-3"})(["flex:1 40px;"]),y=a.default.span.withConfig({displayName:"tile_metrics_select__RequiredSignWrapper",componentId:"sc-16ciwpo-4"})(["color:#ff4e4e;"]),g=Object(o.d)(r=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=s(this,(e=p(n)).call.apply(e,[this].concat(o)))).handleMetricNameChange=function(e){var n=t.props;(0,n.store.handleMetricNameChange)({path:n.item.group_path,value:e.target.value})},t.showCustomMetricField=function(){var e=t.props;(0,e.store.showCustomMetricField)({path:e.item.group_path}),Utils.trackGAEvent(c.b,"show custom metric name field")},t.hideCustomMetricField=function(){var e=t.props;(0,e.store.hideCustomMetricField)({path:e.item.group_path}),Utils.trackGAEvent(c.b,"hide custom metric name field")},t}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.groupedMetricsForSelect,r=t.metricsForSelect,o=t.handleMetricSelect,a=t.item,c=t.name,l=t.params,u=t.store.customMetricFieldIsVisible,s=_.get(l,"".concat(a.group_path,".custom_name"),""),p=_.get(l,"".concat(a.group_path,".identifier"),null),m=_.find(r,{value:p})||{},g=s||u(a.group_path);return e.createElement("div",null,e.createElement("h5",{className:"Tile-form-group-content-item-title"},a.group_title,a.required&&e.createElement(y,null," *")),e.createElement("div",{className:"Tile-form-row"},e.createElement("div",{className:"Tile-form-row-left-part"},e.createElement(i.UIInputSelect,{onChange:o,options:n,value:m,name:c,clearable:!0})),e.createElement("div",{className:"Tile-form-row-right-part"},g?e.createElement(d,null,e.createElement(b,null,e.createElement(i.UIInputText,{onChange:this.handleMetricNameChange,value:s,size:"medium"})),e.createElement(h,null,e.createElement(f,{onClick:this.hideCustomMetricField,size:"smaller"},e.createElement(i.UIIcon,{name:"bin"})))):e.createElement(e.Fragment,null,p&&e.createElement(e.Fragment,null,e.createElement(i.UILink,{onClick:this.showCustomMetricField},"Override display name"),e.createElement("a",{title:"This will override the metric title on the Site Dashboard","data-toggle":"tooltip"},e.createElement(i.UIIcon,{name:"questionCircle",className:"mls"})))))))}}])&&u(r.prototype,o),a&&u(r,a),n}(e.PureComponent))||r}).call(this,n("q1tI"))},"6xco":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r,o=n("GaHK"),a=n("kMSe"),i=n("fRW6");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(a.c)((function(e){var t=e.accountRootStore;return{accountData:t.accountStore.accountData,handleChangeField:t.accountStore.handleChangeField,errors:_.get(t,"accountStore.errors",{})}}))(r=Object(a.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,s(n).apply(this,arguments))}var r,a,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(a=[{key:"render",value:function(){var t=this.props,n=t.accountData,r=n.qa_ips,a=n.qa_emails,c=t.handleChangeField,l=t.errors;return e.createElement(e.Fragment,null,e.createElement(o.UIFormTitle,null,"QA IPs & Emails"),e.createElement("h4",null,"Any referrals whose Friend belongs to given IP or email will be excluded from reports. Top Advocates report excludes QA-generated data."),e.createElement(o.UIFormDivider,null),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"qa_ips",text:"QA IPs"}),e.createElement(o.UIInputTextarea,{id:"qa_ips",name:"qa_ips",value:r,onChange:c,height:"200px",error:l.qa_ips}),Object(i.a)(l.qa_ips),e.createElement("div",{className:"mts"},e.createElement(o.UIFormTip,{className:"pls"},"Enter IPs separated by newline. Accepted values:"),e.createElement(o.UIFormTip,{className:"pll"},"Single IP address, e.g.",e.createElement("span",{className:"label mls"},"192.168.2.100")),e.createElement(o.UIFormTip,{className:"pll"},"Range of IP addresses, e.g.",e.createElement("span",{className:"label mls"},"192.0.0.0..192.255.255.255")),e.createElement(o.UIFormTip,{className:"pll"},"Subnet mask, e.g.",e.createElement("span",{className:"label mls"},"192.168.2.0/8"),e.createElement("span",{className:"label mls"},"192.168.2.0/255.255.0.0")))),e.createElement(o.UIFormDivider,null),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"qa_emails",text:"QA emails"}),e.createElement(o.UIInputTextarea,{id:"qa_emails",name:"qa_emails",value:a,onChange:c,height:"200px",error:l.qa_emails,autoSize:!0}),Object(i.a)(l.qa_emails),e.createElement("div",{className:"mts"},e.createElement(o.UIFormTip,{className:"pls"},"Enter emails separated by newline. Accepted values:"),e.createElement(o.UIFormTip,{className:"pll"},"Explicit email, e.g.",e.createElement("span",{className:"label mls"},"advocate@example.com"),e.createElement("span",{className:"label mls"},"friend@example.net")),e.createElement(o.UIFormTip,{className:"pll"},"Wildcard email, e.g.",e.createElement("span",{className:"label mls"},"*@example.com"),e.createElement("span",{className:"label mls"},"*@example.*t")),e.createElement(o.UIFormTip,{className:"pll"},"Use a question mark (?) as a wildcard for a single character and an asterisk (*) for zero or more characters."))))}}])&&l(r.prototype,a),c&&l(r,c),n}(e.Component))||r)||r}).call(this,n("q1tI"))},"7Kwe":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,o=n("GaHK"),a=n("kMSe"),i=n("fRW6");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=n("vOnD").default.ul.withConfig({displayName:"sso__ListSquare",componentId:"sc-5vktoe-0"})(["list-style-type:square;margin-bottom:0;"]),f=Object(a.c)((function(e){var t=e.accountRootStore;return{account:_.get(t,"accountStore.account",{}),constants:_.get(t,"accountStore.constants",{}),accountData:_.get(t,"accountStore.accountData",{}),handleChangeField:_.get(t,"accountStore.handleChangeField"),handleChangeConfigureAutomatically:_.get(t,"accountStore.handleChangeConfigureAutomatically"),errors:_.get(t,"accountStore.errors",{})}}))(r=Object(a.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,s(n).apply(this,arguments))}var r,a,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(a=[{key:"render",value:function(){var t=this.props,n=t.account,r=t.accountData,a=r.saml_idp_metadata_url,c=r.saml_idp_entity_id,l=r.saml_idp_cert,u=r.saml_idp_cert_fingerprint,s=r.saml_idp_configure_automatically,p=r.saml_idp_sso_target_url,f=r.restrict_login_to_sso_only,d=t.handleChangeField,b=t.handleChangeConfigureAutomatically,h=t.errors,y=t.constants;return e.createElement(e.Fragment,null,e.createElement(o.UIFormTitle,null,"Single Sign-On"),e.createElement("h4",null,"Simplify and strengthen security by enabling single sign-on (SSO)."," ",e.createElement(o.UILink,{inherit:!0,target:"_blank",href:documentationURL("advanced_features/single_sign_on.html")},"Click here to learn more")),e.createElement(o.UIFormDivider,null),e.createElement("h4",null,"Service Provider (SP) ",e.createElement("strong",null,"\u2014 Talkable")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Metadata"},e.createElement(o.UIButton,{size:"micro",className:"mlm",href:_.get(y,"SAML_METADATA_URL",""),download:"talkable_metadata.xml"},"Download")),e.createElement(o.UIInlineCode,{text:_.get(y,"SAML_METADATA_URL","")})),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Consumer URL"}),e.createElement(o.UIInlineCode,{text:_.get(y,"SAML_CONSUMER_URL","")})),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Audience URI (Entity ID)"}),e.createElement(o.UIInlineCode,{text:_.get(y,"SAML_ENTITY_ID","")})),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"NameID Format"}),e.createElement(o.UIInlineCode,{text:"emailAddress"})),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Authentication Context"}),e.createElement(o.UIInlineCode,{text:"PasswordProtectedTransport"})),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"SP-Initiated SSO URL"}),e.createElement(o.UIInlineCode,{text:_.get(n,"id")?"".concat(window.location.origin).concat(Routes.init_sso_account_path(n)):""}),e.createElement(o.UIFormTip,null,"A link for logging into Talkable using SSO. You can provide this URL to your users.")),e.createElement(o.UIFormDivider,null),e.createElement("h4",null,"Identity Provider (IdP)"),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"saml_idp_metadata_url",text:"IdP Metadata URL"}),e.createElement(o.UIInputText,{id:"saml_idp_metadata_url",name:"saml_idp_metadata_url",value:a,onChange:d,width:"600px",error:h.saml_idp_metadata_url}),Object(i.a)(h.saml_idp_metadata_url),e.createElement(o.UIFormTip,null,"URL for your IdP metadata, e.g. https://okta.com/saml/metadata/XYZ")),e.createElement(o.UIFormRow,null,e.createElement(o.UIInputCheckbox,{id:"saml_idp_configure_automatically",labelText:"Automatically Configure from Metadata",name:"saml_idp_configure_automatically",value:s||!1,checked:!0===s,onChange:b}),Object(i.a)(h.saml_idp_configure_automatically),e.createElement(o.UIFormTip,null,"Simply provide your IdP Metadata URL, we\u2019ll do the rest")),!s&&e.createElement(e.Fragment,null,e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"saml_idp_entity_id",text:"IdP Issuer (Entity ID)"}),e.createElement(o.UIInputText,{id:"saml_idp_entity_id",name:"saml_idp_entity_id",value:c||"",onChange:d,width:"600px",error:h.saml_idp_entity_id}),Object(i.a)(h.saml_idp_entity_id),e.createElement(o.UIFormTip,null,"IdP Issuer Entity ID. Often a URL, e.g. http://www.okta.com/exkcb3zi28dfXBBk80h7")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"saml_idp_sso_target_url",text:"IdP SSO Target URL"}),e.createElement(o.UIInputText,{id:"saml_idp_sso_target_url",name:"saml_idp_sso_target_url",value:p||"",onChange:d,width:"600px",error:h.saml_idp_sso_target_url}),Object(i.a)(h.saml_idp_sso_target_url),e.createElement(o.UIFormTip,null,"Target for receiving SAML Assertions, e.g. https://okta.com/trust/saml2/http-post/sso/XYZ")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"saml_idp_cert",text:"X.509 Certificate"}),e.createElement(o.UIInputText,{id:"saml_idp_cert",name:"saml_idp_cert",value:l||"",onChange:d,width:"600px",error:h.saml_idp_cert}),Object(i.a)(h.saml_idp_cert),e.createElement(o.UIFormTip,null,e.createElement("strong",null,"Optional:")," Provide X.509 Certificate ",e.createElement("strong",null,"OR")," ","Fingerprint")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"saml_idp_cert_fingerprint",text:"X.509 Certificate Fingerprint"}),e.createElement(o.UIInputText,{id:"saml_idp_cert_fingerprint",name:"saml_idp_cert_fingerprint",value:u||"",onChange:d,width:"600px",error:h.saml_idp_cert_fingerprint}),Object(i.a)(h.saml_idp_cert_fingerprint),e.createElement(o.UIFormTip,null,e.createElement("strong",null,"Optional:")," Provide X.509 Certificate ",e.createElement("strong",null,"OR")," ","Fingerprint"),e.createElement(o.UIFormTip,null,"Talkable will automatically generate the fingerprint if the full X.509 certificate is provided."))),e.createElement(o.UIFormRow,null,e.createElement(o.UIInputCheckbox,{id:"restrict_login_to_sso_only",labelText:"Restrict Login to SSO Only",name:"restrict_login_to_sso_only",value:f||!1,checked:!0===f,onChange:d}),Object(i.a)(h.restrict_login_to_sso_only),e.createElement(o.UIFormTip,null,e.createElement(m,null,e.createElement("li",null,"Disables login using password"),e.createElement("li",null,"Disables password reset")," ",e.createElement("li",null,"Disables password change"),e.createElement("li",null,"Disables adding and deleting users"),e.createElement("li",null,"Disables user account security")))))}}])&&l(r.prototype,a),c&&l(r,c),n}(e.Component))||r)||r}).call(this,n("q1tI"))},BTZS:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r,o=n("GaHK"),a=n("fRW6"),i=n("kMSe");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(i.c)((function(e){var t=e.accountRootStore;return{accountData:t.accountStore.accountData,handleChangeField:t.accountStore.handleChangeField,staffMember:_.get(t.currentUser,"staff_member",!1),getTimeZones:t.accountSettingsFormStore.getTimeZones,optionsTimeZones:t.accountSettingsFormStore.optionsTimeZones,localTime:t.accountSettingsFormStore.localTime,currentZoneName:_.get(t.accountSettingsFormStore,"timeZones.current_zone.name",""),errors:_.get(t,"accountStore.errors",{})}}))(r=Object(i.d)(r=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=u(this,(e=s(n)).call.apply(e,[this].concat(o)))).handleChangeBillingStartAt=function(e){t.props.handleChangeField({target:{name:"billing_start_at",value:_.get(e,"dateString",null)}})},t}var r,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(i=[{key:"componentDidMount",value:function(){this.props.getTimeZones(this.props.match.params.account_id)}},{key:"render",value:function(){var t=this.props,n=t.staffMember,r=t.accountData,i=r.name,c=r.time_zone,l=r.api_key,u=r.public_api_key,s=r.require_branding,p=r.billing_start_at,m=t.handleChangeField,f=t.optionsTimeZones,d=t.currentZoneName,b=t.localTime,h=t.errors;return e.createElement(e.Fragment,null,e.createElement(o.UIFormTitle,null,"Basic Settings"),e.createElement(o.UIFormRow,{className:"mtn"},e.createElement(o.UILabel,{id:"name",text:"Account Name"}),e.createElement(o.UIInputText,{id:"name",name:"name",value:i,width:"600px",onChange:m,error:h.name}),Object(a.a)(h.name)),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"time_zone",text:"Time zone"}),e.createElement(a.b,{width:"600px",id:"time_zone",name:"time_zone",value:c||d,onChange:m,options:f}),Object(a.a)(h.time_zone),e.createElement(o.UIFormTip,null,b)),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"API Key"}),e.createElement(o.UIInlineCode,{text:l}),e.createElement(o.UIFormTip,null,"Has full access to API")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Public API Key"}),e.createElement(o.UIInlineCode,{text:u}),e.createElement(o.UIFormTip,null,"Has limited access to API and is recommended for using in mobile SDK"),n&&e.createElement(e.Fragment,null,e.createElement(o.UIFormDivider,null),e.createElement(o.UIStaffBadge,{text:"Staff only section"}),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{text:"Subscription Billing Start Date"}),e.createElement(Widget.Rangepicker,{inputProps:{value:p,name:"billing_start_at"},onRangeChange:this.handleChangeBillingStartAt,onCancel:this.handleChangeBillingStartAt,isMergedRange:!0}),Object(a.a)(h.billing_start_at)),e.createElement(o.UIFormRow,null,e.createElement(o.UIInputCheckbox,{id:"require_branding",name:"require_branding",labelText:"Require Talkable branding in views",checked:!0===s,value:s,onChange:m}),Object(a.a)(h.require_branding)))))}}])&&l(r.prototype,i),c&&l(r,c),n}(e.Component))||r)||r}).call(this,n("q1tI"))},F9GT:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r,o=n("kMSe"),a=n("GaHK"),i=n("vOnD");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=i.default.div.withConfig({displayName:"tile_checkbox_select__SelectTitle",componentId:"sc-1phle7v-0"})(["display:block;font-size:14px;"]),f=i.default.div.withConfig({displayName:"tile_checkbox_select__SelectWrapper",componentId:"sc-1phle7v-1"})(["width:150px;margin-bottom:5px;"]),d=Object(o.c)((function(e){return{accountStore:e.accountRootStore.accountStore}}))(r=Object(o.d)(r=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=u(this,(e=s(n)).call.apply(e,[this].concat(o)))).handleSelectChange=function(e){var n=e.selectedOption.value,r=e.name;t.props.setValue(r,n)},t}var r,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this,n=this.props,r=n.handleChangeCheckbox,o=n.item.options,i=n.params,c=n.accountStore;return e.createElement("div",null,_.map(o,(function(n,o){var l=n.group_path,u=n.sub_item,s=_.get(i,l),p=_.get(i,u.path);return e.createElement("div",{key:o},e.createElement(m,null,n.title),e.createElement(f,null,e.createElement(a.UIInputSelect,{onChange:t.handleSelectChange,options:n.options,value:s,name:l,searchable:!1})),e.createElement(e.Fragment,null,e.createElement(a.UIInputCheckbox,{labelText:u.title,id:u.path,name:u.path,size:"normal",checked:p,onChange:r}),e.createElement(a.UILink,{inherit:!0,target:"_blank",style:{marginLeft:"5px"},href:Routes.edit_site_path(c.current_site_slug,"enterprise")},"see rules")))})))}}])&&l(r.prototype,o),i&&l(r,i),n}(e.PureComponent))||r)||r}).call(this,n("q1tI"))},FGc1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Fx+Y"),o=n("/YPq"),a=[{path:Routes.edit_tile_account_path(":account_id",":tile_id"),component:o.a},{path:Routes.new_tile_account_path(":account_id",":tile_type"),component:o.a},{path:Routes.edit_section_account_path(":account_id","tiles"),component:r.a}]},"Fx+Y":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r,o,a=n("kMSe"),i=n("Ty5D"),c=n("hBrn"),l=n("Xk4b");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=(r=Object(a.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}})),Object(i.o)(o=r(o=Object(a.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),p(this,m(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props.accountTilesStore.tilesConfig;return e.createElement("div",null,e.createElement(c.a,null),t.size?e.createElement(l.a,null):e.createElement("div",{className:"Notice is-info ac-account-tiles-zero-case"},"You don\u2019t have any Dashboard Tiles"))}}])&&s(r.prototype,o),a&&s(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},OBuQ:function(e,t,n){"use strict";var r=n("99Ma"),o=n("nKCY"),a=n("2d+K");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return _.get(_.find(e,(function(e){return e.name===t})),"offset")},u=r.types.model("AccountSettingsFormStore",{timeZones:r.types.frozen()}).views((function(e){return{get accountStore(){return Object(r.getParent)(e).accountStore},get optionsTimeZones(){return _.map(_.get(e.timeZones,"all_zones",[]),(function(e){return{label:"(GMT".concat(e.offset,") ").concat(e.name),value:e.name}}))},get localTime(){var t=e.accountStore.accountData.time_zone,n=_.get(e,"timeZones.current_zone",{}),r=l(_.get(e,"timeZones.all_zones"),t);return"Current local time in ".concat(t||n.name," is\n      ").concat(n.offset?moment().utcOffset(r||n.offset).format("LT"):"")},get numberOptionsSecurity(){return _.get(e,"accountStore.accountData.restrict_login_to_sso_only",!1)?{"data-toggle":"tooltip","data-title":"Login is restricted to SSO only",disabled:!0}:{}}}})).actions((function(e){return{updateTimeZones:function(t){e.timeZones=t},getTimeZones:function(t){$.ajax({url:Routes.time_zones_internal_account_path(t,{no_spinner:!0}),success:function(t){var n=t.result;e.updateTimeZones(n)},error:function(e){Widget.Utils.notifyDevelopers({name:"Unable to fetch time zones",message:"Ajax failure",xhr:e})}})},onSubmit:function(){return e.accountStore.handleSubmit().then((function(){e.updateTimeZones(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.timeZones,{current_zone:{name:e.accountStore.account.time_zone,offset:l(_.get(e,"timeZones.all_zones"),e.accountStore.account.time_zone)}}))}))},onSave:function(){e.accountStore.changesExist?e.onSubmit():(e.accountStore.clearErrors(),Validation.succeed())}}})),s=(u.create(),n("o0o1")),p=n.n(s),m=n("ZVfT"),f=n("L0cm"),d=n("nPL6"),b=n("MrdO"),h=r.types.model("AccountTilesDefaultConfigStore",{description:r.types.maybeNull(r.types.string),configuration:r.types.optional(b.a,{})}).views((function(e){return{}})).actions((function(e){return{}})),y=(h.create(),n("fXey")),g=[{value:"in_progress",title:"In progress"},{value:"pending",title:"Pending"},{value:"flagged",title:"Flagged"},{title:"Approved",value:"approved_group",options:[{value:"approved",title:"Approved Automatically"},{value:"unblocked",title:"Approved Manually"}]},{title:"Blocked",value:"blocked_group",options:[{value:"blocked",title:"Blocked Automatically"},{value:"voided",title:"Blocked Manually"}]}],v=[{title:"Revenue-related metrics",value:"revenue_group",options:[{value:"revenue",title:"Revenue"},{value:"aov",title:"A.O.V"},{value:"all_time_revenue",title:"All time revenue"}]}],E=[{value:"any",label:"Doesn't matter"},{value:"used",label:"Used"},{value:"unused",label:"Not Used"}],S=r.types.model("CustomizableRevenueFormConfig",{uiSpoiler:!0,calculationSpoiler:!0,customizableRevenueCalculationErrors:!1}).views((function(e){return{get calculateValidationRules(){return["configuration.advocate_sales.enabled","configuration.friend_sales.enabled"]},get UIFormConfig(){return[{title:"Transactions",path:"configuration.ui.transactions"},{type:"checkbox_tree",options:v,group_path:"configuration.ui.revenue_metrics"},{group_title:"Overtime chart:",group_path:"configuration.ui.overtime_chart",type:"radio_button",withoutPadding:!0,options:[{label:"On",value:!0},{label:"Off",value:!1}]},{type:"divider"},{title:"Talkable Revenue distribution among type of customers",path:"configuration.ui.revenue_segmentation.enabled",type:"checkbox_group",options:[{type:"radio_button",group_path:"configuration.ui.revenue_segmentation.options.segments",options:[{label:"Advocates and Friends",value:"ad_fr"},{label:"New and Existing customers",value:"new_existing"},{label:"Both",value:"both"}]}]},{type:"divider"},{title:"Talkable Percentage of Revenue",path:"configuration.ui.revenue_percentage"}]},get calculationFormConfig(){return[{title:"Advocate Conversion Events",path:"configuration.advocate_sales.enabled",type:"checkbox_group",options:[{type:"radio_button",group_path:"configuration.advocate_sales.options.new_customers",options:[{label:"New customer conversion events only",value:"yes"},{label:"Existing customer conversion events only",value:"no"},{label:"All customer conversion events only",value:null}]}]},{type:"divider"},{title:"Friend Conversion Events",path:"configuration.friend_sales.enabled",type:"checkbox_group",options:[{type:"radio_button",title:"By type of customers",group_path:"configuration.friend_sales.options.new_customers",options:[{label:"New customer conversion events only",value:"yes"},{label:"Existing customer conversion events only",value:"no"},{label:"All customer conversion events only",value:null}]},{type:"select_group",title:"By referral attribution",options:[{type:"select",title:"Talkable friend sales tracked by coupon code:",group_path:"configuration.friend_sales.options.coupon_usage",options:E,sub_item:{title:"Follow Ideal Timing rules",type:"checkbox",path:"configuration.friend_sales.options.ideal_timing"}}]},{type:"checkbox_tree",title:"By referrals statuses",options:g,group_path:"configuration.friend_sales.options.referral_statuses"}]},{group_title:"Conversion events:",path:"configuration.event_categories",type:"multi_select",options:e.eventCategoriesOptions,withoutPadding:!0,description:e.eventCategoriesDescription},{group_title:"Campaign tags:",path:"configuration.campaign_tags",type:"multi_select",options:e.campaignTagsOptions,withoutPadding:!0,description:e.campaignTagsDescription}]}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Talkable Referral Revenue")},calculateValidation:function(t){t.path;var n=!1;if(!t.value){var r=_.transform(e.calculateValidationRules,(function(t,n){t.push(_.get(e.params,n))}),[]);_.every(r)||1!==_.uniq(r).length||(n=!0)}e.customizableRevenueCalculationErrors=n}}})),O=r.types.compose(S,y.a),w=(O.create(),r.types.model("SiteRevenueFormConfig",{uiSpoiler:!0,calculationSpoiler:!0}).views((function(e){return{get UIFormConfig(){return[{title:"Transactions",path:"configuration.ui.transactions"},{type:"checkbox_tree",options:v,group_path:"configuration.ui.revenue_metrics"},{group_title:"Overtime chart:",group_path:"configuration.ui.overtime_chart",type:"radio_button",withoutPadding:!0,options:[{label:"On",value:!0},{label:"Off",value:!1}]}]},get calculationFormConfig(){return[{group_title:"Conversion events:",path:"configuration.event_categories",type:"multi_select",options:e.eventCategoriesOptions,withoutPadding:!0,description:e.eventCategoriesDescription}]}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Talkable Site Revenue")}}}))),C=r.types.compose(w,y.a),T=(C.create(),r.types.model("AbstractMetricTileFormConfig",{name:"AbstractMetricTileFormConfig",uiSpoiler:!0}).views((function(e){return{get accountStore(){return Object(r.getParent)(e)},get UIFormConfig(){return[{group_title:"Overtime chart:",group_path:"configuration.ui.overtime_chart",withoutPadding:!0,type:"radio_button",options:[{label:"On",value:!0},{label:"Off",value:!1}]},{group_title:"Metric 1:",group_path:"configuration.ui.first_metric",type:"metrics_select",required:!0},{group_title:"Metric 2:",group_path:"configuration.ui.second_metric",type:"metrics_select"},{group_title:"Metric 3:",group_path:"configuration.ui.third_metric",type:"metrics_select"},{type:"metrics_description"}]},get abstractTileErrors(){return _.isEmpty(e.params.configuration.metrics)},customMetricFieldIsVisible:function(t){return _.get(e.params,"".concat(t,".customMetricFieldState"))}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Abstract metric tile")},handleMetricNameChange:function(t){var n=t.value,r=t.path;_.get(e.params,r).custom_name=n},showCustomMetricField:function(t){var n=t.path;e.changeShowCustomMetricField({path:n,customMetricFieldState:!0})},changeShowCustomMetricField:function(t){var n=t.path,r=t.customMetricFieldState,o=t.custom_name,a=_.get(e.params,n);a.customMetricFieldState=r,_.isString(o)&&(a.custom_name=o)},hideCustomMetricField:function(t){var n=t.path;e.changeShowCustomMetricField({path:n,customMetricFieldState:!1,custom_name:""})}}}))),I=r.types.compose(T,y.a),j=(I.create(),r.types.model("ReferralsFormConfig",{calculationSpoiler:!0}).views((function(e){return{get calculationFormConfig(){return[{group_title:"Conversion events:",path:"configuration.event_categories",type:"multi_select",options:e.eventCategoriesOptions,withoutPadding:!0,description:e.eventCategoriesDescription},{group_title:"Campaign tags:",path:"configuration.campaign_tags",type:"multi_select",options:e.campaignTagsOptions,withoutPadding:!0,description:e.campaignTagsDescription}]}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Referrals")}}}))),k=r.types.compose(j,y.a),P=(k.create(),r.types.model("AdvocacyRateFormConfig",{calculationSpoiler:!0}).views((function(e){return{get calculationFormConfig(){return[{group_title:"Campaign tags:",path:"configuration.campaign_tags",type:"multi_select",options:e.campaignTagsOptions,withoutPadding:!0,description:e.campaignTagsDescription}]}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Advocacy Rate")}}}))),F=r.types.compose(P,y.a),x=(F.create(),r.types.model("CampaignPerformanceFormConfig",{calculationSpoiler:!0}).views((function(e){return{get calculationFormConfig(){return[{group_title:"Conversion events:",path:"configuration.event_categories",type:"multi_select",options:e.eventCategoriesOptions,withoutPadding:!0,description:e.eventCategoriesDescription},{group_title:"Campaign tags:",path:"configuration.campaign_tags",type:"multi_select",options:e.campaignTagsOptions,withoutPadding:!0,description:e.campaignTagsDescription}]}}})).actions((function(e){return{afterCreate:function(){e.params.title||(e.params.title="Campaign Performance")}}}))),U=r.types.compose(x,y.a);U.create();function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){return _.transform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),(function(e,t,n){e[n]={key:n,description:t}}),{})},A=function(e){return e.reduce((function(e,t){return e.push({label:t,value:t}),e}),[])},M=r.types.model("AccountTilesStore",{name:"AccountTilesStore",initialDataFetched:!1,savingChanges:!1,mode:"",editTileId:"",tileType:"",siteCachedSlug:"",paginationPosition:1,campaign_tags:r.types.maybeNull(r.types.array(r.types.string)),event_categories:r.types.maybeNull(r.types.array(r.types.string)),tilesTypes:r.types.optional(r.types.map(r.types.frozen()),{}),defaultConfig:r.types.optional(r.types.map(h),{}),dashboardCustomizableRevenueTileFormStore:r.types.optional(O,{}),dashboardSiteRevenueTileFormStore:r.types.optional(C,{}),dashboardReferralsTileFormStore:r.types.optional(k,{}),dashboardAdvocacyRateTileFormStore:r.types.optional(F,{}),dashboardCampaignPerformanceTileFormStore:r.types.optional(U,{}),dashboardAbstractMetricTileFormStore:r.types.optional(I,{}),tilesConfig:r.types.optional(r.types.map(r.types.union(d.DashboardSiteRevenueTileConfigStore,d.DashboardCampaignsTileConfigStore,d.DashboardReferralsTileConfigStore,d.DashboardAdvocateRewardsTileConfigStore,d.DashboardFriendRewardsTileConfigStore,d.DashboardAdvocacyRateTileConfigStore,d.DashboardCampaignPerformanceTileConfigStore,d.DashboardTalkableRevenueTileConfigStore,d.DashboardCustomizableRevenueTileConfigStore,d.DashboardAbstractMetricTileConfigStore)),{})}).views((function(e){return{get accountStore(){return Object(r.getParent)(e).accountStore},get needFetchMetrics(){return!e.accountStore.metricsFetched&&"DashboardAbstractMetricTile"===e.tileType},get campaignTagsOptions(){return A(e.campaign_tags)},get eventCategoriesOptions(){return A(e.event_categories)},validateTilesConfig:function(e){return e.filter((function(e){var t=e.type;return _.includes(f.B,t)}))},hasTileConfig:function(t){return e.tilesConfig.has("".concat(t))},get availableTypes(){return["DashboardCustomizableRevenueTile","DashboardSiteRevenueTile","DashboardReferralsTile","DashboardAdvocacyRateTile","DashboardCampaignPerformanceTile","DashboardAbstractMetricTile"]},get filteredTilesTypes(){return _.pickBy(Array.from(e.tilesTypes.values()),(function(t,n){return _.includes(e.availableTypes,t.key)}))},get configurableTiles(){return _.filter(Array.from(e.tilesConfig.values()),(function(e){return _.some(e.configuration)}))},get tileForEdit(){return _.find(e.configurableTiles,{id:_.toInteger(e.editTileId)})},get tileOptions(){var t=e.defaultConfig.get(e.tileType);return(e.tileForEdit||t).toJSON()},get sortedTiles(){return _.sortBy(Array.from(e.tilesConfig.values()),"id")},get tilesForPagination(){for(var t=[],n=f.A*(e.paginationPosition-1),r=f.A*e.paginationPosition;n<r;n++)e.sortedTiles[n]&&t.push(e.sortedTiles[n]);return t},getRequestUrl:function(t){var n=t.tileId;switch(t.action){case"POST":return Routes.internal_account_dashboard_tiles_path(e.accountStore.account.id);case"PUT":case"DELETE":return Routes.internal_account_dashboard_tile_path(e.accountStore.account.id,n)}},validateParams:function(t){return _.transform(t,(function(t,n,r){"create"!==e.mode&&"type"===r||(t[r]=_.isString(n)?_.trim(n):n)}),{})}}})).actions((function(e){return{fetchInitialData:Object(r.flow)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.ajax({url:Routes.internal_account_dashboard_tiles_path(e.accountStore.account.id),data:{no_spinner:!0}});case 3:n=t.sent,e.updateInitialData(n.result),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Widget.Utils.notifyDevelopers({name:"Unable to fetch Initial Data for Tiles Account",message:"Ajax failure",xhr:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),updateInitialData:function(t){var n=t.tiles,r=t.site_cached_slug,o=t.campaign_tags,a=t.event_categories,i=t.constants,c=i.DASHBOARD_TILE_DEFAULT_CONFIG,l=i.DASHBOARD_TILE_HUMAN_TYPE_NAMES,u=e.validateTilesConfig(n);e.siteCachedSlug=r,e.defaultConfig.replace(c),e.tilesTypes.replace(N(l)),e.campaign_tags=o,e.event_categories=a,u.forEach((function(t){e.updateTilesConfig(t)})),e.initialDataFetched=!0},updateTilesConfig:function(t){if(e.hasTileConfig(t.id))e.tilesConfig.put(t);else{var n=d["".concat(t.type,"ConfigStore")].create(t);e.tilesConfig.put(n)}},updateTile:function(t){var n=t.tileId,r=t.params,o=t.action,a=t.history;e.activateSavingChanges(),$.ajax({url:e.getRequestUrl({tileId:n,action:o}),type:o,contentType:"application/json",data:JSON.stringify({dashboard_tile:e.validateParams(r)}),success:function(t){"DELETE"===o?e.deleteTile(n):e.updateTilesConfig(t.result.tiles),e.deactivateSavingChanges(),"DELETE"!==o&&a&&(e.resetEditMode(),a.push(Routes.edit_section_account_path(e.accountStore.account.id,"tiles")),Object(m.s)()),Validation.succeed(),Utils.trackGAEvent(f.b,"update tile, action: ".concat(o),r.type)},error:function(t){e.deactivateSavingChanges(),Validation.fail(_.get(t,"responseJSON.result.errors",{})),Widget.Utils.notifyDevelopers({name:"Unable to update tile",message:"Ajax failure",xhr:t})}})},replaceDashboardCustomizableRevenueTileFormStore:function(t){e.dashboardCustomizableRevenueTileFormStore=O.create({params:t})},replaceDashboardSiteRevenueTileFormStore:function(t){e.dashboardSiteRevenueTileFormStore=C.create({params:t})},replaceDashboardReferralsTileFormStore:function(t){e.dashboardReferralsTileFormStore=k.create({params:t})},replaceDashboardAdvocacyRateTileFormStore:function(t){e.dashboardAdvocacyRateTileFormStore=F.create({params:t})},replaceDashboardCampaignPerformanceTileFormStore:function(t){e.dashboardCampaignPerformanceTileFormStore=U.create({params:t})},replaceDashboardAbstractMetricTileFormStore:function(t){e.dashboardAbstractMetricTileFormStore=I.create({params:t})},removeTile:function(t){var n=t.tileId,r=t.params;e.updateTile({tileId:n,params:r,action:"DELETE"})},deleteTile:function(t){e.tilesConfig.delete("".concat(t))},setTileType:function(t){e.tileType=t},resetEditMode:function(t){e.mode="",e.editTileId="",e.tileType=""},activateSavingChanges:function(){e.savingChanges=!0},deactivateSavingChanges:function(){e.savingChanges=!1},activateCreateMode:function(t){e.mode="create",e.setTileType(t),Utils.trackGAEvent(f.b,"activate create mode")},activateEditMode:function(t){e.mode="edit",e.editTileId=t,e.setTileType(e.tilesConfig.get(t).type),Utils.trackGAEvent(f.b,"activate edit mode")},setPaginationPosition:function(t,n){n&&n.preventDefault(),t!==e.paginationPosition&&(e.paginationPosition=t)}}})),L=(M.create(),n("7GH9"));n.d(t,"a",(function(){return z}));var q=r.types.model("AccountRootStore",{accountStore:r.types.optional(a.a,{}),accountSettingsFormStore:r.types.optional(u,{}),accountTilesStore:r.types.optional(M,{})}).views((function(e){return{get currentUser(){return L.b}}})).actions((function(e){return{}})),z=Object(o.a)(q.create())},QH2d:function(e,t,n){"use strict";n.r(t);var r=n("ho87"),o=n("ztJa");r.a.render(o.a,"AccountsEdit")},QW71:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r,o=n("kMSe"),a=n("Ttug"),i=n("WBe7");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(o.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}}))(r=Object(o.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,s(n).apply(this,arguments))}var r,o,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props.accountTilesStore.tilesForPagination;return e.createElement("table",{className:"base-table"},e.createElement(a.a,null),e.createElement("tbody",null,t.map((function(n,r){var o=t.length-1===r;return e.createElement(i.a,{item:n,isLast:o,key:n.id})}))))}}])&&l(r.prototype,o),c&&l(r,c),n}(e.PureComponent))||r)||r}).call(this,n("q1tI"))},Ttug:function(e,t,n){"use strict";(function(e){t.a=function(t){return e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{width:45},"Visible"),e.createElement("th",{width:500},"Tile Name and Type"),e.createElement("th",{width:200},"Updated"),e.createElement("th",{width:115,className:"is-right"},"Actions")))}}).call(this,n("q1tI"))},WAsl:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r,o,a=n("Ty5D"),i=n("kMSe"),c=n("GaHK"),l=n("L0cm");function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=(r=Object(i.c)((function(e){return{accountStore:e.accountRootStore.accountStore}})),Object(a.o)(o=r(o=Object(i.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),p(this,m(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props.accountStore;return e.createElement("p",null,"You can choose up to 3 metrics to be displayed in a single tile."," ",e.createElement(c.UILink,{href:Routes.account_metrics_path(t.account.id),target:"_blank",className:"js-ga-click","data-category":l.b,"data-action":"see all metrics link click"},"See all metrics"),".")}}])&&s(r.prototype,o),a&&s(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},WBe7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r,o,a=n("kMSe"),i=n("vOnD"),c=n("Ty5D"),l=n("55Ip"),u=n("GaHK");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=Object(i.default)(u.UIInputCheckbox).withConfig({displayName:"account_settings_tiles_table_row__InputCheckbox",componentId:"sc-7qa4rg-0"})(["display:block;margin-top:3px;"]),h=(r=Object(a.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}})),Object(c.o)(o=r(o=Object(a.d)(o=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=m(this,(e=f(n)).call.apply(e,[this].concat(o)))).handleCheckboxChange=function(){var e=t.props,n=e.item,r=e.accountTilesStore;!r.savingChanges&&r.updateTile({action:"PUT",tileId:n.id,params:{visible:!n.visible}})},t.removeTile=function(){var e=t.props,n=e.item;e.accountTilesStore.removeTile({tileId:n.id,params:{type:n.type}})},t}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.item,r=t.isLast,o=t.accountTilesStore,a=o.savingChanges,i=o.accountStore,c=classNames("ac-tile-row",{"is-last":r}),s=_.some(n.configuration),p=classNames({"ac-visible-tile":n.visible,"ac-hidden-tile":!n.visible}),m=classNames({"ac-tile-edit-control":s});return e.createElement("tr",{className:c},e.createElement("td",{className:p},e.createElement(b,{checked:n.visible,disabled:a,onChange:this.handleCheckboxChange,id:"visible_tile_".concat(n.id),name:"visible_tile_".concat(n.id)})),e.createElement("td",null,e.createElement("div",{className:"base-table-item pts"},e.createElement("strong",null,n.title)),n.title!==n.human_type&&e.createElement(e.Fragment,null,e.createElement("span",{className:"base-table-description"},n.human_type),e.createElement("br",null)),n.descriptionText||"\u2014"),e.createElement("td",null,n.latest_change?e.createElement("div",null,e.createElement("span",{className:"base-table-description"},moment(n.latest_change.created_at).format("MM/DD/YYYY [at] hh:mm A")),e.createElement("span",{className:"base-table-description is-block"},n.latest_change.email)):e.createElement("span",{className:"base-table-description"},"\u2013")),e.createElement("td",{className:m},s&&e.createElement(u.UIMenuDropdown,{className:"pull-right"},e.createElement(u.UIMenuDropdownItem,{isLink:!0},e.createElement(l.Link,{to:{pathname:Routes.edit_tile_account_path(i.account.id,n.id)}},"Edit")),e.createElement(u.UIMenuDropdownItem,{onClick:this.removeTile},"Delete"))))}}])&&p(r.prototype,o),a&&p(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},WUzE:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r,o=n("kMSe"),a=n("GaHK"),i=n("ZVfT");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(o.d)(r=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=u(this,(e=s(n)).call.apply(e,[this].concat(o)))).validateData=function(e){switch(e){case"true":return!0;case"false":return!1;case"null":return null;default:return e}},t.handleChange=function(e){var n=e.target,r=n.name,o=n.value;t.props.setValue(r,t.validateData(o))},t}var r,o,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this,n=this.props,r=n.params,o=n.item,c=o.options,l=o.group_path,u=_.get(r,l);return e.createElement("div",null,_.map(c,(function(n,r){var o=Object(i.n)(n.value),c=u===n.value,s="".concat(l,"_").concat(n.value);return e.createElement("div",{key:r,className:"Tile-form-group-content-item"},e.createElement(a.UIInputRadio,{value:o,checked:c,name:l,id:s,size:"normal",onChange:t.handleChange,labelText:n.label}))})))}}])&&l(r.prototype,o),c&&l(r,c),n}(e.PureComponent))||r}).call(this,n("q1tI"))},Xk4b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,o=n("kMSe"),a=n("GaHK"),i=n("QW71"),c=n("L0cm");function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object(o.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}}))(r=Object(o.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,p(n).apply(this,arguments))}var r,o,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props.accountTilesStore,n=t.setPaginationPosition,r=t.paginationPosition,o=t.sortedTiles;return e.createElement("div",{className:"Account-settings-tiles-main-part"},e.createElement(i.a,null),e.createElement(a.UIPagination,{data:o.length,setPaginationPosition:n,defaultItemsPerPage:c.A,paginationPosition:r,maxPaginationItems:c.y}))}}])&&u(r.prototype,o),l&&u(r,l),n}(e.PureComponent))||r)||r}).call(this,n("q1tI"))},cGS1:function(e,t,n){"use strict";var r=n("BTZS"),o=n("lmpm"),a=n("6xco"),i=n("xHzB"),c=n("7Kwe"),l=[{exact:!0,path:Routes.edit_account_path(":account_id"),component:r.a},{exact:!0,path:Routes.edit_section_account_path(":account_id","fraud"),component:o.a},{exact:!0,path:Routes.edit_section_account_path(":account_id","qa"),component:a.a},{exact:!0,path:Routes.edit_section_account_path(":account_id","security"),component:i.a},{exact:!0,path:Routes.edit_section_account_path(":account_id","sso"),component:c.a}];t.a=l},fXey:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n("99Ma"),o=n("0WXM"),a=n("GaHK"),i=n("L0cm"),c=r.types.model("SharedTileFormStore",{params:r.types.optional(o.a,{})}).views((function(t){return{get accountTilesStore(){return Object(r.getParent)(t)},get accountStore(){return t.accountTilesStore.accountStore},get campaignTagsOptions(){return t.accountTilesStore.campaignTagsOptions},get eventCategoriesOptions(){return t.accountTilesStore.eventCategoriesOptions},get visibleMetrics(){return t.accountStore.visibleMetrics},get tileAbstractMetrics(){return _.values(_.pick(t.params.configuration.ui,["first_metric","second_metric","third_metric"]))},get tileAbstractMetricsValue(){return _.compact(_.map(t.tileAbstractMetrics,"identifier"))},get showSubTitle(){return"AbstractMetricTileFormConfig"!==t.name},get eventCategoriesDescription(){return function(){return e.createElement("p",{className:"mts"},"If your integration supports Events list all required event categories through which Talkable will be collecting metrics."," ",e.createElement(a.UILink,{href:documentationURL("advanced_features/events.html"),target:"_blank"},"Learn more")," ","about Events. Leave blank to include all conversion events.")}},get campaignTagsDescription(){return function(){return e.createElement("p",{className:"mts"},"If you wish to collect metrics throughout a set of campaigns with particular campaign tags, list them here. You can control campaign tags inside Campaign Rules. You can filter campaigns by tags on the Campaigns page to ensure all desired campaigns are covered. Leave blank to include all campaigns.")}},get configurationDescription(){var e=t.params.configuration.campaign_tags;return"\n        Specify how you want to filter data in the tile.\n        Leaving each field blank enables all conversion\n        events".concat(e?" and campaign tags":"",".\n      ")},specificMetric:function(e){return t.visibleMetrics.find((function(t){return t.identifier===e}))}}})).actions((function(e){return{setValue:function(t,n){_.set(e,"params.".concat(t),n),e.calculateValidation&&e.calculateValidation({path:t,value:n})},prepareMetricData:function(){e.params.configuration.metrics=e.tileAbstractMetricsValue},handleMetricSelect:function(t){var n=t.name,r=t.selectedOption,o={};r&&(o={identifier:r.value,id:e.specificMetric(r.value).id,result_type:e.specificMetric(r.value).result_type,name:r.label}),_.set(e,"params.".concat(n),o),e.prepareMetricData(),Utils.trackGAEvent(i.b,"custom metric select")},handleChangeInput:function(t){var n=t.target,r=n.name,o=n.value;e.setValue(r,o)},handleChangeCheckbox:function(t){var n=t.target.name,r=_.get(e,"params.".concat(n));e.setValue(n,!r)},handleMultiSelectChange:function(t){var n=t.selectedOption,r=t.name,o=n.map((function(e){return e.value}));e.setValue(r,o),Utils.trackGAEvent(i.b,"multi select change: ".concat(r))}}}));c.create()}).call(this,n("q1tI"))},hBrn:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r,o,a=n("kMSe"),i=n("vOnD"),c=n("GaHK"),l=n("Ty5D"),u=n("55Ip");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=Object(i.default)(c.UIFormTitle).withConfig({displayName:"account_settings_tiles_header__Title",componentId:"sc-7kl37d-0"})(["span{font-family:'gotham-book';}"]),h=i.default.i.withConfig({displayName:"account_settings_tiles_header__Icon",componentId:"sc-7kl37d-1"})(["&&{top:0;}"]),y=(r=Object(a.c)((function(e){var t=e.accountRootStore;return{accountTilesStore:t.accountTilesStore,accountStore:t.accountStore,currentUser:t.currentUser}})),Object(l.o)(o=r(o=Object(a.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),m(this,f(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.accountTilesStore,r=n.filteredTilesTypes,o=n.tilesConfig,a=n.accountStore,i=t.currentUser;return e.createElement("div",{className:"Account-settings-tiles-header"},e.createElement("div",{className:"Account-settings-tiles-title is-two-sections mbl"},e.createElement("div",{className:"Account-settings-tiles-title-left"},e.createElement(b,{className:"mbn"},"Dashboard Tiles ",e.createElement("span",null,"\u2014 ",o.size))),e.createElement("div",null,e.createElement("div",{className:"Account-settings-tiles-title-right"},_.some(o)&&a.current_site_slug&&i.staff_member&&e.createElement(c.UILink,{className:"mrl",href:Routes.site_path(a.current_site_slug,{change_order:!0}),target:"_blank"},"Change Order"),e.createElement("div",{className:"Account-settings-tiles-dropdown dropdown"},e.createElement(c.UIButton,{trait:"success",size:"small",className:"dropdown-toggle","data-toggle":"dropdown"},e.createElement(h,{className:"icon icon-plus-inverse mrm mtn"}),e.createElement("span",null,"Create New Tile")),e.createElement("ul",{className:"dropdown-menu pull-right is-ovv"},_.map(r,(function(t,n){return e.createElement("li",{key:n},e.createElement(u.Link,{className:"dropdown-link",to:{pathname:Routes.new_tile_account_path(a.account.id,_.snakeCase(t.key))}},t.description))}))))))),e.createElement("div",{className:"Account-settings-tiles-header-text"},e.createElement("h4",null,"Here you can configure which tiles (widgets) are visible on Site Dashboard. Configuration applies to all Sites under your Talkable account.")),e.createElement(c.UIFormDivider,null))}}])&&p(r.prototype,o),a&&p(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},lmpm:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r,o=n("GaHK"),a=n("kMSe"),i=n("fRW6");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(a.c)((function(e){var t=e.accountRootStore;return{accountData:t.accountStore.accountData,handleChangeField:t.accountStore.handleChangeField,errors:_.get(t,"accountStore.errors",{})}}))(r=Object(a.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,s(n).apply(this,arguments))}var r,a,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(a=[{key:"render",value:function(){var t=this.props,n=t.accountData,r=n.blocked_ips,a=n.blocked_emails,c=t.handleChangeField,l=t.errors;return e.createElement(e.Fragment,null,e.createElement(o.UIFormTitle,null,"Fraud Detection"),e.createElement("h4",null,"All Friends visiting claim links made from given IP or email will be redirected to site."),e.createElement("h4",null,"Any referrals whose Advocate or Friend belongs to given IP or email will be marked as fraud."),e.createElement(o.UIFormDivider,null),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"blocked_ips",text:"Blacklisted IPs"}),e.createElement(o.UIInputTextarea,{id:"blocked_ips",name:"blocked_ips",value:r,onChange:c,height:"200px",error:l.blocked_ips}),Object(i.a)(l.blocked_ips),e.createElement("div",{className:"mts"},e.createElement(o.UIFormTip,{className:"pls"},"Enter IPs separated by newline. Accepted values:"),e.createElement(o.UIFormTip,{className:"pll"},"Single IP address, e.g.",e.createElement("span",{className:"label mls"},"192.168.2.100")),e.createElement(o.UIFormTip,{className:"pll"},"Range of IP addresses, e.g.",e.createElement("span",{className:"label mls"},"192.0.0.0..192.255.255.255")),e.createElement(o.UIFormTip,{className:"pll"},"Subnet mask, e.g.",e.createElement("span",{className:"label mls"},"192.168.2.0/8"),e.createElement("span",{className:"label mls"},"192.168.2.0/255.255.0.0")))),e.createElement(o.UIFormDivider,null),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"blocked_emails",text:"Blacklisted emails"}),e.createElement(o.UIInputTextarea,{id:"blocked_emails",name:"blocked_emails",value:a,onChange:c,height:"200px",error:l.blocked_emails}),Object(i.a)(l.blocked_emails),e.createElement("div",{className:"mts"},e.createElement(o.UIFormTip,{className:"pls"},"Enter emails separated by newline. Accepted values:"),e.createElement(o.UIFormTip,{className:"pll"},"Explicit email, e.g.",e.createElement("span",{className:"label mls"},"advocate@example.com"),e.createElement("span",{className:"label mls"},"friend@example.net")),e.createElement(o.UIFormTip,{className:"pll"},"Wildcard email, e.g.",e.createElement("span",{className:"label mls"},"*@example.com"),e.createElement("span",{className:"label mls"},"*@example.*t")),e.createElement(o.UIFormTip,{className:"pll"},"Use a question mark (?) as a wildcard for a single character and an asterisk (*) for zero or more characters."))))}}])&&l(r.prototype,a),c&&l(r,c),n}(e.Component))||r)||r}).call(this,n("q1tI"))},qXyS:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r,o=n("kMSe"),a=n("GaHK");function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=Object(o.d)(r=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=l(this,(e=u(n)).call.apply(e,[this].concat(o)))).findCheckboxGroup=function(e){return _.find(t.props.item.options,{value:e})},t.getValueCheckboxGroup=function(e){return _.map(t.findCheckboxGroup(e).options,"value")},t.checkboxGroupDifference=function(e){var n=t.props,r=n.item.group_path,o=n.params,a=_.get(o,r);return _.difference(t.getValueCheckboxGroup(e),a)},t.handleChangeCheckboxGroup=function(e){var n=e.target.name,r=t.props,o=r.item.group_path,a=r.params,i=_.get(a,o),c=[],l=t.getValueCheckboxGroup(n);c=0===_.difference(l,i).length?_.difference(i,l):_.concat(i,l),t.props.setValue(o,_.uniq(c))},t.handleChangeCheckbox=function(e){var n=e.target.name,r=t.props,o=r.item.group_path,a=r.params,i=_.get(a,o),c=[];_.includes(i,n)?c=_.without(i,n):(c=_.clone(i)).push(n),t.props.setValue(o,c)},t}var r,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this,n=this.props,r=n.item,o=r.options,i=r.group_path,c=n.params,l=_.get(c,i);return e.createElement("div",null,_.map(o,(function(n,r){var i=n.title,c=n.value;if(_.isEmpty(n.options)){var u=_.includes(l,c);return e.createElement("div",{className:"base-form-row",key:r},e.createElement(a.UIInputCheckbox,{id:c,name:c,labelText:i,size:"normal",checked:u,onChange:t.handleChangeCheckbox}))}var s=t.getValueCheckboxGroup(n.value),p=_.difference(s,l),m=_.isEmpty(p),f=classNames("Tile-form-group-content-item-content",{"is-last":o.length===r+1}),d=_.some(p)&&s.length!==p.length;return e.createElement("div",{key:r,className:"base-form-row"},e.createElement(a.UIInputCheckbox,{id:c,name:c,labelText:i,size:"normal",checked:m,indeterminate:d,onChange:t.handleChangeCheckboxGroup}),e.createElement("div",{className:f},_.map(n.options,(function(n,r){var o=n.title,i=n.value,c=_.includes(l,i);return e.createElement("div",{className:"mtm",key:r},e.createElement(a.UIInputCheckbox,{id:i,name:i,labelText:o,size:"normal",checked:c,onChange:t.handleChangeCheckbox}))}))))})))}}])&&c(r.prototype,o),i&&c(r,i),n}(e.PureComponent))||r}).call(this,n("q1tI"))},t23R:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r,o,a=n("o0o1"),i=n.n(a),c=n("Gt+O"),l=n.n(c),u=n("Ty5D"),s=n("kMSe"),p=n("GaHK");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=(r=Object(s.c)((function(e){var t=e.accountRootStore;return{accountStore:t.accountStore,onSubmit:t.accountSettingsFormStore.onSubmit}})),Object(u.o)(o=r(o=Object(s.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),d(this,b(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this.props,n=t.accountStore,r=n.changesExist,o=n.cancelChanges,a=t.onSubmit;return e.createElement(l.a,{when:function(e,t){var n,o=new RegExp("/account/(\\w|[0-9-_])+/edit","i");return r&&(n=_.get(e,"pathname"))&&o.test(n)}},(function(t){var n=t.onCancel,r=t.onConfirm;return e.createElement(p.UIModalConfirmation,{title:"You updated settings.",primaryButtonText:"Save changes",secondaryButtonText:"Discard changes",style:"three-sections",onPrimaryAction:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.awrap(a());case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n();case 9:case"end":return e.stop()}}),null,null,[[0,6]])},onCloseModal:n,onSecondaryAction:function(){n(),o()}},"Do you want to save changes?")}))}}])&&f(r.prototype,o),a&&f(r,a),n}(e.Component))||o)||o)||o)}).call(this,n("q1tI"))},vQws:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r,o,a=n("kMSe"),i=n("vOnD"),c=n("GaHK"),l=n("FGc1"),u=n("Ty5D"),s=n("L0cm");function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=i.default.div.withConfig({displayName:"components__AccountSettingsTilesContainer",componentId:"sc-1i8m7m1-0"})(["display:flex;height:100%;",";"],(function(e){return!e.initialDataFetched&&"\n      align-items: center;\n      justify-content: center;\n    "})),y=(r=Object(a.c)((function(e){return{accountTilesStore:e.accountRootStore.accountTilesStore}})),Object(u.o)(o=r(o=Object(a.d)(o=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),f(this,d(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){this.props.accountTilesStore.fetchInitialData(),Utils.trackGAEvent(s.b,"show account tiles")}},{key:"render",value:function(){var t=this.props.accountTilesStore.initialDataFetched;return e.createElement(h,{initialDataFetched:t},t?l.a.map((function(t,n){return e.createElement(u.d,{exact:!0,key:n,path:t.path,render:function(n){return e.createElement(t.component,n)}})})):e.createElement("div",{className:"ac-loader"},e.createElement(c.UILoader,null)))}}])&&m(r.prototype,o),a&&m(r,a),n}(e.PureComponent))||o)||o)||o)}).call(this,n("q1tI"))},xHzB:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,o=n("GaHK"),a=n("kMSe"),i=n("fRW6");function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object(a.c)((function(e){var t=e.accountRootStore;return{accountData:t.accountStore.accountData,handleChangeField:t.accountStore.handleChangeField,numberOptionsSecurity:_.get(t.accountSettingsFormStore,"numberOptionsSecurity",{}),errors:_.get(t,"accountStore.errors",{})}}))(r=Object(a.d)(r=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,p(n).apply(this,arguments))}var r,a,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,t),r=n,(a=[{key:"render",value:function(){var t=this.props,n=t.accountData,r=n.inactivity_timeout,a=n.password_expiration_period,c=t.handleChangeField,u=t.numberOptionsSecurity,s=t.errors;return e.createElement(e.Fragment,null,e.createElement(o.UIFormTitle,null,"User Account Security"),e.createElement("h4",null,"Here you can configure auto disabling inactive accounts and password reset requirements."),e.createElement(o.UIFormDivider,null),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"inactivity_timeout",text:"When no activity tracked automatically disable user account in:"}),e.createElement(o.UIInputNumber,l({id:"inactivity_timeout",name:"inactivity_timeout",labelRight:"Days",value:r,onChange:c,error:s.inactivity_timeout},u)),Object(i.a)(s.inactivity_timeout),e.createElement(o.UIFormTip,null,"Leave 0 to never disable")),e.createElement(o.UIFormRow,null,e.createElement(o.UILabel,{id:"password_expiration_period",text:"Require users to change their password every:"}),e.createElement(o.UIInputNumber,l({id:"password_expiration_period",name:"password_expiration_period",labelRight:"Days",value:a,onChange:c,error:s.password_expiration_period},u)),Object(i.a)(s.password_expiration_period),e.createElement(o.UIFormTip,null,"Leave 0 to never require changing user account password")))}}])&&u(r.prototype,a),c&&u(r,c),n}(e.Component))||r)||r}).call(this,n("q1tI"))},ztJa:function(e,t,n){"use strict";(function(e,r){var o,a,i,c,l=n("GaHK"),u=n("kMSe"),s=n("vOnD"),p=n("rid2"),m=n("55Ip"),f=n("Ty5D"),d=n("vQws"),b=n("cGS1"),h=n("t23R"),y=n("OBuQ"),g=n("L0cm");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function C(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=Object(s.default)(l.UIHolderContent).withConfig({displayName:"root__UIHolderContainerContent",componentId:"nbl5on-0"})(["display:flex;flex-direction:column;justify-content:space-between;"]),P=Object(s.default)(l.UIFormBody).withConfig({displayName:"root__UIFormBodyContainer",componentId:"nbl5on-1"})(["display:flex;height:100%;width:100%;flex-direction:column;box-sizing:border-box;"]),F=s.default.div.withConfig({displayName:"root__LoaderWrapper",componentId:"nbl5on-2"})(["display:flex;min-height:750px;"]),x=Object(u.c)((function(e){var t=e.accountRootStore;return{submitting:t.accountStore.submitting,onSave:t.accountSettingsFormStore.onSave}}))(o=Object(u.d)(o=function(t){function n(){return S(this,n),C(this,T(n).apply(this,arguments))}return I(n,t),w(n,[{key:"render",value:function(){var t=this.props,n=t.onSave,r=t.submitting;return e.createElement(l.UIButton,{trait:"success",onClick:n,disabled:r},"Save changes")}}]),n}(e.Component))||o)||o,U=Object(u.c)((function(e){var t=e.accountRootStore;return{accountStore:t.accountStore,currentUser:t.currentUser,onSave:t.accountSettingsFormStore.onSave}}))(a=Object(u.d)((c=i=function(t){function n(){var e,t;S(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=C(this,(e=T(n)).call.apply(e,[this].concat(o)))).getPath=function(e){return Routes.edit_section_account_path(t.props.accountId,e)},t.getActive=function(e){return function(n,r){return n&&(n.isExact||e.children&&r.pathname.startsWith(t.getPath(e.path)))}},t}return I(n,t),w(n,[{key:"componentDidMount",value:function(){this.props.accountStore.update({id:this.props.accountId}),this.props.accountStore.fetchData(!1),Utils.trackGAEvent(g.a,"show account settings")}},{key:"render",value:function(){var t=this,n=this.props,o=n.accountId,a=n.tabs,i=n.location,c=n.accountStore,u=n.currentUser,s=n.accountStore.initialDataFetched,p=_.get(u,"staff_member"),y="".concat(p?"".concat(_.get(c,"account.name"),": "):"","Account Settings");return e.createElement("div",{className:"App-container-inner Account-settings"},s?e.createElement(e.Fragment,null,e.createElement(r,null,e.createElement("title",null,y)),e.createElement(h.a,null),e.createElement("h1",{className:"App-title mbl"},y),e.createElement(l.UIHolder,null,e.createElement(l.UIHolderSidebar,null,e.createElement(l.UISidebar,null,a.map((function(n,r){if(!n.staff_member||p)return e.createElement(l.UISidebarItem,{key:r},e.createElement(l.UISidebarLink,{isActive:t.getActive(n),as:m.NavLink,to:t.getPath(n.path)},n.name,n.staff_member&&e.createElement(l.UIStaffBadge,{className:"mls",size:"micro",text:!1})))})))),e.createElement(k,null,e.createElement(P,null,e.createElement(f.g,null,b.a.map((function(t,n){return e.createElement(f.d,v({key:n},t))})),p?c.account.id&&e.createElement(f.d,{path:Routes.edit_section_account_path(":account_id","tiles"),render:function(t){return e.createElement(d.a,t)}}):e.createElement(f.c,{to:Routes.edit_account_path(o)}),e.createElement(f.c,{from:"/account/edit",to:Routes.edit_account_path(o)}))),!_.includes(i.pathname,"/edit/tiles")&&e.createElement(l.UIFormFooter,null,c.changesExist&&e.createElement(l.UIButton,{className:"mlr",trait:"transparent",size:"big",onClick:c.cancelChanges},"Cancel"),e.createElement(x,null))))):e.createElement(F,null,e.createElement(l.UILoader,null)))}}]),n}(e.Component),i.defaultProps={tabs:[{name:"Basic",path:""},{name:"Fraud Detection",path:"fraud"},{name:"QA IPs & Emails",path:"qa"},{name:"User Account Security",path:"security"},{name:"Single Sign-On",path:"sso"},{name:"Dashboard Tiles",path:"tiles",staff_member:!0,children:!0}]},a=c))||a)||a;t.a=function(t){return e.createElement(u.b,{accountRootStore:y.a},e.createElement(m.BrowserRouter,null,e.createElement(p.HelmetProvider,null,e.createElement(f.d,{path:"/account/:account_id",render:function(n){return e.createElement(U,v({},t,n))}}))))}}).call(this,n("q1tI"),n("rid2").Helmet)}},[["QH2d",0,1]]]);